(this["webpackJsonpstore-sebastian-vogel"]=this["webpackJsonpstore-sebastian-vogel"]||[]).push([[0],{23:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),i=n.n(c),o=(n(23),n(4)),s=n(3),d=n.n(s),u=n(5),l=n(2),p=o.a.div.withConfig({displayName:"components__HeaderImg",componentId:"animb-0"})(["position:relative;& img{width:100%;max-width:1440px;max-height:300px;}& h1{color:white;position:absolute;top:50%;left:100px;font-weight:700;}"]),f=o.a.div.withConfig({displayName:"components__HeaderUser",componentId:"animb-1"})(["display:flex;justify-content:space-between;align-items:center;min-height:60px;"]),b=o.a.div.withConfig({displayName:"components__UserNameAndCoins",componentId:"animb-2"})(["display:flex;min-width:150px;justify-content:space-around;align-items:center;margin-right:20px;"]),h=o.a.div.withConfig({displayName:"components__CoinAndCredits",componentId:"animb-3"})(["display:inline-flex;align-items:center;justify-content:center;min-width:104px;width:auto;background:lightgrey;height:48px;margin:5px;margin-left:25px;padding:3px;border-radius:25px;& h5{margin-left:5px;padding-left:5px;}& img{padding-top:5px;margin-right:5px;}:hover{background:silver;cursor:pointer;}"]),j=o.a.img.withConfig({displayName:"components__LogoImg",componentId:"animb-4"})(["width:39px;height:36px;"]),m=o.a.div.withConfig({displayName:"components__Modal",componentId:"animb-5"})(["position:fixed;z-index:1;display:flex;top:0;width:100%;height:100%;background-color:rgb(0,0,0);background-color:rgba(0,0,0,0.4);.modal-content{background-color:#fefefe;position:relative;text-align:center;border-radius:20px;margin:auto;padding:20px;border:1px solid #888;width:800px;}.close{position:absolute;top:3%;right:3%;font-size:28px;font-weight:bold;}.buttons-container{display:flex;justify-content:space-around;}& h5{width:20%;border:1px solid #25bbf1;padding:10px;border-radius:25px;}& h5:hover{cursor:pointer;background:#25bbf1;box-shadow:0px 1px 3px 0px #000000;}.close:hover{cursor:pointer;}"]),x=n(9),g=n.n(x),O=n.p+"static/media/header-x2.cc65119a.png",v=n.p+"static/media/aerolab-logo.0a8fb170.svg",y=n.p+"static/media/coin.b8bc711d.svg",w=n(6),C="https://coding-challenge-api.aerolab.co",k={"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZWRkOWU5OTQ0NGZlNDAwNmRhOTkyNGQiLCJpYXQiOjE1OTE1ODIzNjF9.-f40dyUIGFsBSB_PTeBGdSLI58I21-QBJNi9wkODcKk"},S={fetch:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+"/user/me",{headers:k});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),points:{add:function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+"/user/points",{method:"POST",mode:"cors",body:JSON.stringify({amount:t}),headers:Object(w.a)(Object(w.a)({},k),{},{Accept:"application/json"})});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},redeem:function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+"/redeem",{method:"POST",mode:"cors",body:JSON.stringify({productId:t}),headers:Object(w.a)(Object(w.a)({},k),{},{Accept:"application/json"})});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),list:function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+"/products",{headers:k});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},N=n(1),I=a.a.createContext({}),_=function(e){var t=e.children,n=a.a.useState(),r=Object(l.a)(n,2),c=r[0],i=r[1],o=a.a.useState("pending"),s=Object(l.a)(o,2),p=s[0],f=s[1],b=a.a.useState(),h=Object(l.a)(b,2),j=h[0],m=h[1],x=a.a.useState(),g=Object(l.a)(x,2),O=g[0],v=g[1];function y(){return(y=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v("pending"),c){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,S.redeem(t._id).then((function(e){return i(Object(w.a)(Object(w.a)({},c),{},{points:c.points-t.cost})),v("resolved"),!!e.ok}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m("pending"),c){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,S.points.add(t).then((function(e){return i(Object(w.a)(Object(w.a)({},c),{},{points:c.points+t})),m("resolved"),!!e.ok}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(a.a.useEffect((function(){S.fetch().then((function(e){i(e),f("resolved")}))}),[]),!c||"pending"===p)return Object(N.jsx)("div",{children:"loading..."});var k={user:c,addPointsStatus:j,redeemStatus:O},_={addPoints:function(e){return C.apply(this,arguments)},redeem:function(e){return y.apply(this,arguments)}};return Object(N.jsx)(I.Provider,{value:{state:k,actions:_},children:t})},E=a.a.createContext({}),L=function(e){var t=e.children,n=a.a.useState([]),r=Object(l.a)(n,2),c=r[0],i=r[1],o=a.a.useState("pending"),s=Object(l.a)(o,2),p=s[0],f=s[1];if(a.a.useEffect(Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.list();case 2:t=e.sent,i(t),f("resolved");case 5:case"end":return e.stop()}}),e)}))),[]),!c||"pending"===p)return Object(N.jsx)("div",{children:"loading..."});var b={products:c};return Object(N.jsx)(E.Provider,{value:{state:b},children:t})};function F(){var e=a.a.useContext(I),t=e.state,n=t.user,r=t.addPointsStatus,c=e.actions.addPoints;return[n.points,c,r]}var P=function(){var e=F(),t=Object(l.a)(e,3),n=t[0],r=t[1],c=t[2],i=a.a.useState(!1),o=Object(l.a)(i,2),s=o[0],x=o[1],w=a.a.useState(!1),C=Object(l.a)(w,2),k=C[0],S=C[1],_=a.a.useContext(I).state.user,E=a.a.useState(0),L=Object(l.a)(E,2),P=L[0],B=L[1],M=a.a.useState(16),A=Object(l.a)(M,2),J=A[0],R=(A[1],a.a.useState(0)),T=Object(l.a)(R,2)[1],G=a.a.useState(0),H=Object(l.a)(G,2),z=H[0],D=H[1],Q=a.a.useState(),U=Object(l.a)(Q,2),W=U[0],Z=U[1];a.a.useEffect((function(){var e=_.redeemHistory.slice(P,P+J);Z(e),D(Math.ceil(_.redeemHistory.length/J))}),[P]);var X=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:n=e.sent,alert(n?"se han cargado los puntos correctamente":"hubo un error al cargar los puntos intentalo de nuevo mas tarde");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{children:[Object(N.jsxs)(f,{children:[Object(N.jsx)(j,{src:v,alt:"logo"}),Object(N.jsxs)(b,{children:[Object(N.jsx)("div",{onClick:function(){return S(!0)},children:_.name}),Object(N.jsxs)(h,{onClick:function(){return x(!0)},children:[Object(N.jsx)("h5",{children:n}),Object(N.jsx)("img",{src:y,alt:"coin icon"})]})]})]}),Object(N.jsxs)(p,{children:[Object(N.jsx)("img",{src:O,alt:"HeaderImg"}),Object(N.jsx)("h1",{children:"Electronics"})]}),s&&Object(N.jsx)(m,{children:Object(N.jsxs)("div",{className:"modal-content",children:[Object(N.jsx)("span",{onClick:function(){return x(!1)},className:"close",children:"\xd7"}),Object(N.jsx)("h4",{children:"How many points do you want to add?"}),Object(N.jsx)("div",{className:"buttons-container",children:"pending"===c?Object(N.jsx)("p",{children:" adding points..."}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h5",{onClick:function(){return X(1e3)},children:"1000"}),Object(N.jsx)("h5",{onClick:function(){return X(5e3)},children:"5000"}),Object(N.jsx)("h5",{onClick:function(){return X(7500)},children:"7500"})]})})]})}),k&&Object(N.jsx)(m,{children:Object(N.jsxs)("div",{className:"modal-content",children:[Object(N.jsx)("span",{onClick:function(){return S(!1)},className:"close",children:"\xd7"}),Object(N.jsx)(g.a,{previousLabel:"prev",nextLabel:"next",breakClassName:"break-me",pageCount:z,onPageChange:function(e){var t=e.selected,n=t*J;T(t),B(n)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}),Object(N.jsx)("h4",{children:"Shopping history"}),W.map((function(e){return Object(N.jsx)("ul",{children:Object(N.jsx)("li",{children:e.name})})}))]})})]})},B=n(13),M=o.a.div.withConfig({displayName:"components__MenuContainerStyled",componentId:"sc-1pd6byf-0"})(["display:flex;border-bottom:1px solid black;"]),A=o.a.div.withConfig({displayName:"components__FiltersContainer",componentId:"sc-1pd6byf-1"})(["display:flex;width:60%;justify-content:space-around;align-items:center;"]),J=o.a.button.withConfig({displayName:"components__FilterButton",componentId:"sc-1pd6byf-2"})(["border-width:1px 1px 1px 1px;border-style:solid;border-color:black;height:30px;text-align:center;justify-content:center;background:",";border-color:",";opacity:0.7;margin-left:5px;cursor:pointer;"],(function(e){return e.active?"#0ad4fa":"none"}),(function(e){return e.active?"#0ad4fa":"none"})),R=o.a.div.withConfig({displayName:"components__Wrapper",componentId:"sc-1pd6byf-3"})(["display:flex;flex-wrap:wrap;width:100%;justify-content:space-around;"]),T=o.a.div.withConfig({displayName:"components__CardContainer",componentId:"tk1exn-0"})(["display:flex;background-color:white;max-width:350px;flex-direction:column;justify-content:center;margin-top:20px;margin-right:15px;margin-left:15px;padding:10px;button{width:50%;height:30px;background:transparent;border:2px solid #0ad4fa;transition:all 0.5s ease-out;&:hover{background-color:#0ad4fa;cursor:pointer;}}"]),G=o.a.div.withConfig({displayName:"components__ImageContainer",componentId:"tk1exn-1"})(["display:flex;max-width:350px;justify-content:center;"]);function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var D=r.createElement("desc",null,"Created with Sketch."),Q=r.createElement("defs",null,r.createElement("radialGradient",{cx:"50%",cy:"50.8764901%",fx:"50%",fy:"50.8764901%",r:"79.8469947%",id:"radialGradient-1"},r.createElement("stop",{stopColor:"#0AD4FA",offset:"0%"}),r.createElement("stop",{stopColor:"#25BBF1",offset:"100%"}))),U=r.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"Catalog",transform:"translate(-354.000000, -648.000000)"},r.createElement("g",{id:"products",transform:"translate(132.000000, 624.000000)"},r.createElement("g",{id:"line-1"},r.createElement("g",{id:"product-card",transform:"translate(0.000000, 12.000000)"},r.createElement("g",{id:"Icon",transform:"translate(222.000000, 12.000000)"},r.createElement("g",null,r.createElement("circle",{id:"Oval-Copy-5",fill:"url(#radialGradient-1)",cx:21,cy:21,r:21}),r.createElement("path",{d:"M29.9946924,29.1076172 L28.8822001,15.5306936 C28.8580225,15.225303 28.594495,14.9894436 28.277518,14.9894436 L25.2452125,14.9894436 L25.2452125,13.9296875 C25.2452125,12.3142578 23.8849203,11 22.2129071,11 L19.7870627,11 C18.1150494,11 16.7547572,12.3142578 16.7547572,13.9296875 L16.7547572,14.9894436 L13.7224518,14.9894436 C13.4054748,14.9894436 13.1419472,15.225303 13.1177696,15.5306936 L12.0053178,29.1073828 C11.9665447,29.5939844 12.1411651,30.0784375 12.4843816,30.4365234 C12.8275982,30.7946094 13.3141821,31 13.8193238,31 L28.1806055,31 C28.6857472,31 29.1722907,30.7946484 29.5155477,30.4365625 C29.8588046,30.0784766 30.033425,29.5940234 29.9946924,29.1076172 Z M18,14.25 C18,13.00935 18.80748,12 19.8,12 L22.2,12 C23.19252,12 24,13.00935 24,14.25 L24,15 L18,15 L18,14.25 Z",id:"Shape-Copy-2",fill:"#FFFFFF",fillRule:"nonzero"}))))))));function W(e,t){var n=e.title,a=e.titleId,c=z(e,["title","titleId"]);return r.createElement("svg",H({width:"42px",height:"42px",viewBox:"0 0 42 42",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},c),void 0===n?r.createElement("title",{id:a},"Icon"):n?r.createElement("title",{id:a},n):null,D,Q,U)}var Z=r.forwardRef(W),X=(n.p,function(e){var t=e.product,n=e.finishedRedeem,r=F(),c=Object(l.a)(r,1)[0],i=function(){var e=a.a.useContext(I),t=e.state.redeemStatus;return[e.actions.redeem,t]}(),o=Object(l.a)(i,2),s=o[0],p=o[1],f=t.cost<=c,b=function(){var e=Object(u.a)(d.a.mark((function e(r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:a=e.sent,n(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(T,{children:[Object(N.jsxs)(G,{children:[Object(N.jsx)("img",{src:t.img.url}),Object(N.jsx)("div",{children:Object(N.jsx)(Z,{})})]}),Object(N.jsx)("div",{children:t.category}),Object(N.jsx)("p",{children:t.name}),Object(N.jsx)("button",{disabled:!f|"pending"===p,onClick:function(e){return b(e)},children:f?"Redeem for ".concat(t.cost):"Missing ".concat(t.cost-c," points")})]})}),Y=(n(31),function(){var e=a.a.useContext(E).state.products,t=a.a.useState("Most recent"),n=Object(l.a)(t,2),r=n[0],c=n[1],i=a.a.useState(),o=Object(l.a)(i,2),s=o[0],d=o[1],u=a.a.useState(0),p=Object(l.a)(u,2),f=p[0],b=p[1],h=a.a.useState(16),j=Object(l.a)(h,2),x=j[0],O=(j[1],a.a.useState(0)),v=Object(l.a)(O,2),y=v[0],w=v[1],C=a.a.useState(0),k=Object(l.a)(C,2),S=k[0],I=k[1],_=a.a.useState(),L=Object(l.a)(_,2),F=L[0],P=L[1],T=a.a.useState(),G=Object(l.a)(T,2),H=G[0],z=G[1];a.a.useEffect((function(){var t=e.slice(f,f+x);d(t),I(Math.ceil(e.length/x))}),[f]);var D=a.a.useMemo((function(){switch(r){case"Highest price":return Object(B.a)(s).sort((function(e,t){return t.cost-e.cost}));case"Lowest price":return Object(B.a)(s).sort((function(e,t){return e.cost-t.cost}));case"Most recent":default:return s}}),[r,s]),Q=function(e){if(e)return z("Your redeem was successful"),P(!0);z("An error occurred, please try again later"),P(!0)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(M,{children:Object(N.jsxs)(A,{children:[Object(N.jsx)(g.a,{previousLabel:"prev",nextLabel:"next",breakClassName:"break-me",pageCount:S,onPageChange:function(e){var t=e.selected,n=t*x;w(t),b(n)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}),Object(N.jsxs)("div",{className:"qtyProducts",children:[16*(y+1)," of ",e.length," products"]}),Object(N.jsx)("div",{children:"Sort by:"}),["Most recent","Lowest price","Highest price"].map((function(e){return Object(N.jsx)(J,{active:e===r,onClick:function(){return c(e)},children:e},e)}))]})}),Object(N.jsx)(R,{children:s&&D.map((function(e){return Object(N.jsx)(X,{product:e,finishedRedeem:Q})}))}),F&&Object(N.jsx)(m,{style:{marginLeft:-40},children:Object(N.jsxs)("div",{className:"modal-content",children:[Object(N.jsx)("span",{onClick:function(){return P(!1)},className:"close",children:"\xd7"}),Object(N.jsx)("h4",{children:H})]})})]})}),q=o.a.div.withConfig({displayName:"components__ContainerBody",componentId:"sc-15z3jul-0"})(["padding:40px;background-color:#f2f2f2;"]);var K=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(_,{children:Object(N.jsxs)(L,{children:[Object(N.jsx)(P,{}),Object(N.jsx)(q,{children:Object(N.jsx)(Y,{})})]})})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(K,{})}),document.getElementById("root")),V()}},[[32,1,2]]]);
//# sourceMappingURL=main.b3468821.chunk.js.map